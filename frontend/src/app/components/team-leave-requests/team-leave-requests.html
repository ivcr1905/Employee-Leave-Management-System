<div class="card team-leave-requests">
  <h3>Team Leave Requests</h3>

  @if (teamLeaveRequests.length === 0) {
    <p class="no-requests">No pending leave requests from your team.</p>
  } @else {
    <div class="request-list">
      @for (request of teamLeaveRequests; track request.leaveRequestId) {
        <div class="request-item">
          <div class="request-header">
            <span class="employee-name">{{ request.employeeName }}</span>
            <span class="leave-type">{{ request.leaveType }}</span>
          </div>
          <p class="description">{{ request.description }}</p>
          <div class="request-dates">
            @for (date of request.dates; track date.date) {
              <span>{{ date.date | date:'shortDate' }} ({{ date.hours }}h)</span>
            }
          </div>
          <div class="request-actions">
            <button class="accept-btn" (click)="updateLeaveStatus(request.leaveRequestId, 'Approved')">Accept</button>
            <button class="reject-btn" (click)="updateLeaveStatus(request.leaveRequestId, 'Rejected')">Reject</button>
          </div>
        </div>
      }
    </div>
  }
</div>
